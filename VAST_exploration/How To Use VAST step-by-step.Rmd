---
title: "Using VAST"
author: "Janelle Morano"
date: "5/7/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Step-by-step

As I work through it, here are the steps for using VAST.

This assumes you successfully installed it.

## Resources
* VAST on Github: https://github.com/James-Thorson-NOAA/VAST
* Example applications: https://github.com/James-Thorson-NOAA/VAST/wiki
* VAST inputs google doc from Cecilia O'Leary, Dave McGowan, Cole Monnahan
https://docs.google.com/document/d/1pl3-q8zlSBqTmPNaSHJU67S_hwN5nok_I9LAr-Klyrw/edit?ts=608af437

## Load Libraries
```{r libraries, message = FALSE}
library(VAST)
```

Note your system info and versions of VAST, TMB, and Matrix. As of May 2021, the versions are critical for functioning. See installation guide.

```{r session}
sessionInfo()
```

## Required Data

* Observation data
Data frame with observations (e.g., CPUE), year, vessel (for catchability covariate), area swept, Latitude, Longitude, stratum name, survey name, covariates (e.g., depth, temp); n_observations x n_columns
* Extrapolation grid
Lat/lon points with area.
Region = 'Other' or is it "User" generates extrapolation grid based on the locations of samplign data
Thorson 2019 Fish Res recommends defining area included in any stock assessment for a fishery as spatial domain, even if no sampling data is available for portion of area.

## Steps
1. Prepare your data
1. Spatial settings
1. Model settings
1. Specified outputs
1. Extrapolation, Region, & Strata
1. Data & Covariates
1. Make and optimize your model

## Prepare Data
If one year has 0 absences (=100% encounter) it will throw error with
